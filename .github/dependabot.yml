version: 2

updates:
  - package-ecosystem: 'bun'
    directories:
      - '/'
      - '/projects/effect-platform-angular'
      - '/projects/effect-angular-query'
    target-branch: 'main'
    schedule:
      interval: 'weekly'
      day: 'tuesday'
      time: '08:00'
      timezone: 'UTC'
    open-pull-requests-limit: 8
    rebase-strategy: 'auto'
    labels:
      - 'dependencies'
      - 'dependabot'
    commit-message:
      prefix: 'deps'
      include: 'scope'
    groups:
      angular:
        patterns:
          - '@angular/*'
          - 'ng-packagr'
        update-types:
          - 'patch'
          - 'minor'
      effect:
        patterns:
          - '@effect/*'
          - 'effect'
        update-types:
          - 'patch'
          - 'minor'
      tanstack:
        patterns:
          - '@tanstack/*'
        update-types:
          - 'patch'
          - 'minor'
      tooling:
        patterns:
          - 'typescript'
          - 'vitest'
          - '@vitest/*'
          - 'jsdom'
          - '@types/node'
        update-types:
          - 'patch'
          - 'minor'

  - package-ecosystem: 'github-actions'
    directory: '/'
    target-branch: 'main'
    schedule:
      interval: 'weekly'
      day: 'tuesday'
      time: '08:30'
      timezone: 'UTC'
    open-pull-requests-limit: 3
    rebase-strategy: 'auto'
    labels:
      - 'dependencies'
      - 'dependabot'
      - 'github-actions'
    commit-message:
      prefix: 'ci'
      include: 'scope'
